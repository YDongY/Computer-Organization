# 定点数

{% hint style="info" %}
定点数表示所有数据中的小数点位置固定不变
{% endhint %}

## 无符号数的表示

> 用全部的二进制代码表示数字，没有符号位

下面是 8 位二进制无符号数范围：

$$
00000000-11111111 = 0-255(2^{8}-1)
$$

## 有符号数的表示

> 在二进制的编码中，左边第一位表示符号位，通常规定 0 表示正，1 表示负

![](../.gitbook/assets/shu-ju-biao-shi-yu-yun-suan-you-fu-hao-ding-dian-shu-.png)

## 原码表示

例如：

* +237 = 0,11101101
* -237 =  1,11101101

对于有 n 位的二进制可表示**原码定点整数**范围： $$-(2^{n}-1)～2^{n}-1$$ 

对于有 n 位的二进制可表示**原码定点小数**范围： $$-(1-2^{-n})～(1-2^{-n})$$ 

## 反码

若符号位为 0，则原码和反码相同，如果符号位为 1 ，则数值位全部取反。即 0 变 1 ，1 变 0

## 补码

对于正数而言，其补码和反码原码相等，对于负数而言，其补码等于**反码+1**（如果出现进位溢出可丢弃）

## 移码

移码是在补码的基础上将符号为取反，但是需要注意**移码只能表示整数不能表示小数**

{% hint style="info" %}
在计算机的中所有参与运算的数值都是以**补码**的形式参与运算，其原因是补码可以弥补反码无法计算有符号数，同时可以处理原码和反码对零的表示有两种方法。

而对于移码可以有效的比较两个真值的大小。
{% endhint %}

## 移位运算

### 算数移位

> 原码的算数移位，符号位保持不变，对数值位进行移位。

当小数点左移 n 位相当于乘以 2^n ，右移 n 位相当于除以 2^n，通过移位运算可以实现乘法和除法

在右移位过程中，高位补 0 ，低位丢弃。如果低位等于 0 ，则相当于除以 2，如果丢弃的低位不是 0 ，则会造成丢失精度。

同理对于左移，低位补 0 ，高位舍弃，如果舍弃的高位等于 0 ，则相当于除以 2，如果丢弃的高位不是 0 ，则会造成丢失精度

对于整数和负数，原码、反码、补码移动规则：

|  | 码制 | 添补 |
| :--- | :--- | :--- |
| 正数 | 原反补 | 0 |
| 负数 | 原码 | 0 |
|  | 补码左移 | 0 |
|  | 补码右移 | 1 |
|  | 反码 | 1 |

### 逻辑移位

逻辑右移：高位补 0 ，低位舍弃

逻辑左移：低位补 0 ，高位舍弃

### 循环移位

不带进位位：用移出的位补空缺的位

带进位位：移出的位放到进位位，原进位位补上空缺

